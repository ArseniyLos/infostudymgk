<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="sidebar">
        <h2>–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</h2>
        <button id="theme-toggle">üåô</button>
        <ul id="menu"></ul>
    </div>
    <div class="content">
        <h1 id="title">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å</h1>
        <div id="article-content">–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç–∞—Ç—å—é –∏–∑ –º–µ–Ω—é.</div>
    </div>
    
    <script>
    document.addEventListener("DOMContentLoaded", function() {
        const menu = document.getElementById("menu");
        const title = document.getElementById("title");
        const content = document.getElementById("article-content");
        const themeToggle = document.getElementById("theme-toggle");
        
        // –°–ø–∏—Å–æ–∫ —Å—Ç–∞—Ç–µ–π —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏
        const articles = [
            { category: "–û—Å–Ω–æ–≤–Ω–æ–µ", items: [
                { name: "–í–≤–µ–¥–µ–Ω–∏–µ", file: "docs/intro.md" },
                { name: "–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ", file: "docs/guide.md" }
            ]},
            { category: "–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ", items: [
                { name: "–ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã", file: "docs/faq.md" },
                { name: "–ü—Ä–∏–º–µ—Ä—ã —ç–ª–µ–º–µ–Ω—Ç–æ–≤", file: "docs/examples.md" }
            ]}
        ];
        
        // –ó–∞–ø–æ–ª–Ω—è–µ–º –º–µ–Ω—é
        articles.forEach(section => {
            let sectionLi = document.createElement("li");
            let sectionTitle = document.createElement("p");
            sectionTitle.textContent = section.category;
            sectionTitle.classList.add("menu-category");
            sectionLi.appendChild(sectionTitle);
            
            let subMenu = document.createElement("ul");
            subMenu.classList.add("submenu");
            
            section.items.forEach(article => {
                let li = document.createElement("li");
                let a = document.createElement("a");
                a.href = "#";
                a.textContent = article.name;
                a.onclick = function() {
                    loadArticle(article.file, article.name);
                };
                li.appendChild(a);
                subMenu.appendChild(li);
            });
            
            sectionLi.appendChild(subMenu);
            menu.appendChild(sectionLi);
        });
        
        // –†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ –º–µ–Ω—é
        document.querySelectorAll(".menu-category").forEach(category => {
            category.addEventListener("click", function() {
                this.nextElementSibling.classList.toggle("open");
            });
        });
        
        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–µ–º—ã
        themeToggle.addEventListener("click", function() {
            document.body.classList.toggle("dark-mode");
        });
        
        // –ó–∞–≥—Ä—É–∑–∫–∞ Markdown-—Ñ–∞–π–ª–∞
        function loadArticle(file, name) {
            fetch(file)
                .then(response => response.text())
                .then(text => {
                    title.textContent = name;
                    content.innerHTML = marked.parse(text); // –ü–∞—Ä—Å–∏–º Markdown
                })
                .catch(error => {
                    content.innerHTML = "–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç–∞—Ç—å–∏.";
                });
        }
    });
    </script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</body>
</html>
